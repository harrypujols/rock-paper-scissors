// Generated by CoffeeScript 1.7.1
(function() {
  var compare, computerScore, randomChoice, tie, userScore;

  userScore = 0;

  computerScore = 0;

  tie = 0;

  randomChoice = function(min, max) {
    return Math.floor(Math.random() * (max - min + 1)) + min;
  };

  compare = function(choice1, choice2) {
    var result;
    result = function(outcome) {
      if (outcome === 'win') {
        outcome = 'You win!';
        userScore++;
      }
      if (outcome === 'lose') {
        outcome = 'You lose :(';
        computerScore++;
      }
      if (outcome === 'tie') {
        outcome = 'It\'s a tie!';
        tie++;
      }
      $('#result').append('<h2>' + outcome + '</h2>');
      $('.score').empty();
      $('.user .score').append(userScore);
      $('.computer .score').append(computerScore);
      $('.tie .score').append(tie);
    };
    if (choice1 === choice2) {
      result('tie');
    }
    if (choice1 === 'rock') {
      if (choice2 === 'paper') {
        result('lose');
      }
      if (choice2 === 'scissors') {
        result('win');
      }
    }
    if (choice1 === 'paper') {
      if (choice2 === 'rock') {
        result('win');
      }
      if (choice2 === 'scissors') {
        result('lose');
      }
    }
    if (choice1 === 'scissors') {
      if (choice2 === 'rock') {
        result('lose');
      }
      if (choice2 === 'paper') {
        result('win');
      }
    }
  };

  $('#selection button').click(function() {
    var computerChoice, userChoice;
    $('#result').empty();
    $('#selection button, .computer.column div').removeClass('selected');
    computerChoice = randomChoice(1, 3);
    if (computerChoice === 1) {
      computerChoice = 'rock';
    }
    if (computerChoice === 2) {
      computerChoice = 'paper';
    }
    if (computerChoice === 3) {
      computerChoice = 'scissors';
    }
    userChoice = $(this).attr('class');
    $('#result').append('<p> You chose ' + userChoice + '. The computer chose ' + computerChoice + '.</p>');
    compare(userChoice, computerChoice);
    $('#selection button.' + userChoice).addClass('selected');
    $('.computer.column div.' + computerChoice).addClass('selected');
  });

}).call(this);
